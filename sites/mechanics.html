<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8">
    <title>РПΓ</title>
    <link rel="stylesheet" type="text/css" href="..//styles//topbar.css">
    <link rel="stylesheet" type="text/css" href="..//styles//sidebar.css">
    <link rel="stylesheet" type="text/css" href="..//styles//pagetheme.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  </head>
  <body class="backgroud">
    <nav class="topnav">
      <a href="../index.html">Home</a>
      <a class="active" href="mechanics.html">Mechanics</a>
      <a href="Lore.html">Lore</a>
      <a href="aboutUs.html">About</a>
    </nav>
    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 ">
          <div class="sidebar">
            <div class="form-group">
              <label for="filterTopics">Filtruj</label>
              <input type="search" class="form-control" id="filterTopics" placeholder="Wpisz temat">
            </div>
            <nav class="navprops">
              <a class="filterable show" href="#introduction">Wstęp</a>
              <a class="filterable show" href="#creating-character-worksheet">Tworzenie karty postaci</a>
              <a class="filterable show" href="#buying-items"> Kupowanie przedmiotów</a>
            </nav>
          </div>
        </div>
        <div class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5">
          <div class="card p-2">
            <h1 class="card-title"> Mechaniki: </h1>
            <div class="card-body">
              <h2 id="introduction">Wstęp</h2>
              <h2 id="creating-character-worksheet">Tworzenie karty postaci</h2>
              <h2 id="buying-items">Kupowanie przedmiotów</h2>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
<script>
    //setup before functions
  let typingTimer;                //timer identifier
  const doneTypingInterval = 200;  //time in ms (5 seconds)
  const filterInputName = "filterTopics";
  let filterInput = document.getElementById(filterInputName);

  //on keyup or search, start the countdown
  filterInput.addEventListener('search', searchAction);
  filterInput.addEventListener('keyup', searchAction);
  function searchAction() {
    clearTimeout(typingTimer);
      console.log("there is some action");
      typingTimer = setTimeout(()=>filterSelection(filterInput.value), doneTypingInterval);
  }
  //user is "finished typing," do something
  function filterSelection (filterValue) {
      Array.from(document.getElementsByClassName("filterable")).forEach(
        (filterable) => filterable.textContent.toLowerCase().includes(filterValue.toLowerCase())?
        showElement(filterable) : hideElement(filterable)
      );
  }
  function showElement(element) {
    if(!element.className.includes("show")){
      element.className += " show";
    }
  }
  function hideElement(element){
    if(element.className.includes("show")){
      element.className = element.className.replace(" show","");
    }
  }
</script>